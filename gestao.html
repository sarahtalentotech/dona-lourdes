<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <title>Gest√£o de Produtos - Dona Lourdes</title>
  <script src="produtos.js"></script> <!-- Lista de produtos -->
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }

    #top-buttons {
      margin-bottom: 20px;
    }

    button {
      margin: 5px;
      padding: 10px;
    }

    .produto-item {
      margin-bottom: 15px;
    }
  </style>
</head>

<body>

  <h1>Bom dia, Dona Lourdes! Vamos vender muito hoje?</h1>

  <div id="top-buttons">
    <button onclick="marcarTodos(true)">Marcar todos como Dispon√≠veis ‚úÖ</button>
    <button onclick="marcarTodos(false)">Desmarcar todos ‚ùå</button>
  </div>

  <div id="produtosArea"></div>

  <button onclick="salvarProdutos()">Salvar Altera√ß√µes</button>

  <script>
    // Certifique-se de que o arquivo produtos.js j√° declarou a vari√°vel produtos corretamente
    // N√£o declare novamente a vari√°vel produtos aqui, ela j√° deve existir vindo de produtos.js

    // Fun√ß√£o para carregar os produtos e exibir os campos para editar pre√ßo e disponibilidade
    function carregarProdutos() {
      let html = '';
      produtos.forEach((produto, index) => {
        html += `
          <div class="produto-item">
            <strong>${produto.nome}</strong><br>
            Pre√ßo: R$ <input type="any" step="0.01" value="${produto.preco}" onchange="atualizarPreco(${index}, this.value)">
            Dispon√≠vel: <input type="checkbox" ${produto.disponivel ? 'checked' : ''} onchange="atualizarDisponibilidade(${index}, this.checked)">
          </div>
          <hr>
        `;
      });
      document.getElementById('produtosArea').innerHTML = html;
    }

    // Fun√ß√£o para atualizar o pre√ßo do produto
    function atualizarPreco(index, inputValue) {
      const valor = parseFloat(inputValue);
      if (!isNaN(valor)) {
        produtos[index].preco = valor;
      }
    }

    // Fun√ß√£o para atualizar a disponibilidade do produto
    function atualizarDisponibilidade(index, status) {
      produtos[index].disponivel = status;
    }

    // Fun√ß√£o para salvar as altera√ß√µes no localStorage
    function salvarProdutos() {
      localStorage.setItem('produtos', JSON.stringify(produtos));
      alert('Altera√ß√µes salvas com sucesso! Bons neg√≥cios, Dona Lourdes! üåª');
    }

    // Fun√ß√£o para marcar todos os produtos como dispon√≠veis ou indispon√≠veis
    function marcarTodos(status) {
      produtos.forEach(produto => produto.disponivel = status);
      carregarProdutos();
    }

    // Carregar os produtos ao abrir a p√°gina
    carregarProdutos();
  </script>



</body>

</html>
